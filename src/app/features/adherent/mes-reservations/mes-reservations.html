<div class="container py-5">
  <h1 class="display-5 fw-bold mb-4">Mes RÃ©servations</h1>

  <div class="alert alert-info mb-4">
    <strong>ğŸ“Š Quota:</strong> {{ nombreReservationsActives() }} / 3 rÃ©servations utilisÃ©es
    @if (!peutReserver()) {
      <span class="badge bg-danger">Limite atteinte</span>
    }
  </div>

  @if (reservations().length > 0) {
    <div class="row g-4">
      @for (reservation of reservations(); track reservation.idResa) {
        <div class="col-md-6 col-lg-4">
          <div class="card shadow-sm border-0">
            <div class="card-body">
              <h6 class="card-title fw-bold">{{ reservation.livre.titre }}</h6>
              <p class="card-text text-muted small">par {{ reservation.livre.auteurs[0]?.nom }}</p>
              
              <div class="mb-3 small">
                <div class="d-flex justify-content-between">
                  <span>Date:</span>
                  <span>{{ reservation.dateResa | date: 'short' }}</span>
                </div>
              </div>

              <button class="btn btn-sm btn-danger w-100" (click)="annulerReservation(reservation.idResa)">
                âœ— Annuler
              </button>
            </div>
          </div>
        </div>
      }
    </div>
  } @else {
    <div class="alert alert-info text-center py-5">
      Vous n'avez pas de rÃ©servations actives
    </div>
  }
</div>
